function getURLParameter(n,t){t||(t=window.location.href);n=n.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)"),i=r.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}var TRACKING_ENDPOINT="/funnelmetrics",EVENT_CATEGORY="efile-funnel",serialize;typeof console=="undefined"&&(console={},console.log=console.dir=console.error=console.info=console.debug=function(){});serialize=function(n){var i=[];for(var t in n)n.hasOwnProperty(t)&&n[t]!=null&&i.push(encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return i.join("&")};var ct_internalTracking=function(n,t,i,r){console.log("Event",n,t,i,r);var u=serialize({category:n,action:t,label:i,value:r,_ay:window._ay,_entityIndex:window._entityIndex,_t:(new Date).getTime(),ref:getURLParameter("ref"),original_referrer:document.referrer}),f=new Image;f.src=TRACKING_ENDPOINT+"?"+u},ct_track=function(n,t,i,r){ct_internalTracking(n,t,i,r);gtag("event",t,{event_category:n,event_label:i,value:r,non_interaction:!0})},ct_trackFieldEnter=function(n,t){ct_track(EVENT_CATEGORY,"fieldEnter_"+n,window._pageName,t)},ct_trackScreen=function(n,t){setTimeout(function(){ct_track(EVENT_CATEGORY,"screenView_"+n,window._pageName,t)},500+500*Math.random())},ct_trackClick=function(n,t,i){ct_track(EVENT_CATEGORY,"click_"+n,t?t:window._pageName,i)},ct_trackClickWithEmailOverride=function(n,t,i,r){console.log("Event",t,i,r);var u=serialize({email:n,category:EVENT_CATEGORY,action:"click_"+t,label:i,value:r,_ay:window._ay,_entityIndex:window._entityIndex,_t:(new Date).getTime()}),f=new Image;f.src=TRACKING_ENDPOINT+"?"+u;gtag("event",t,{event_category:EVENT_CATEGORY,event_label:i,value:r,non_interaction:!0})};(function(n){function t(n){return n.data("name")||n.attr("name")}function i(n){var t=n.val();return!!(t&&t!="0")}n(function(){var r=null;n(document).on("focus",".track-focus",function(){var u=n(this),f;if(r=u,!i(u)){f=function(){i(u)&&ct_trackFieldEnter(t(u),u.attr("data-track-value")?u.val():null)};u.off("change.trackFocus");u.one("change.trackFocus",f)}});n(window).on("beforeunload",function(){r!=null&&ct_track(EVENT_CATEGORY,"fieldExit_"+t(r),window._pageName,n.trim(r.val())!=""?1:0)});n("[type='text/ct-onload']").each(function(){try{console.debug("executing scriptlet",this);n.globalEval(this.innerText)}catch(t){console.log("Error executing scriptlet");console.error(t)}n(this).attr("type","ct-onload-executed")});n(document).on("click","[data-tracking-action]",function(){ct_trackClick(n(this).attr("data-tracking-action"),n(this).attr("data-tracking-label"))})})})(this.jQuery);